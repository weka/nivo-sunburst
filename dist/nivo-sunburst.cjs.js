"use strict";var e=require("react"),r=require("@nivo/core"),o=require("@nivo/arcs"),i=require("@nivo/tooltip"),n=require("react/jsx-runtime"),t=require("d3-hierarchy"),a=require("lodash/cloneDeep.js"),s=require("lodash/sortBy.js"),l=require("@nivo/theming"),d=require("@nivo/colors");function u(){return u=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var o=arguments[r];for(var i in o)({}).hasOwnProperty.call(o,i)&&(e[i]=o[i])}return e},u.apply(null,arguments)}function c(e,r){if(null==e)return{};var o={};for(var i in e)if({}.hasOwnProperty.call(e,i)){if(-1!==r.indexOf(i))continue;o[i]=e[i]}return o}var v={id:"id",value:"value",innerRadius:.3,cornerRadius:0,layers:["arcs","arcLabels"],colors:{scheme:"nivo"},colorBy:"id",inheritColorFromParent:!0,childColor:{from:"color"},borderWidth:1,borderColor:"white",enableArcLabels:!1,arcLabel:"formattedValue",arcLabelsRadiusOffset:.5,arcLabelsSkipAngle:0,arcLabelsSkipRadius:0,arcLabelsTextColor:{theme:"labels.text.fill"},animate:!0,motionConfig:"gentle",transitionMode:"innerRadius",isInteractive:!0,defs:[],fill:[],tooltip:function(e){var r=e.id,o=e.formattedValue,t=e.color;return n.jsx(i.BasicTooltip,{id:r,value:o,enableChip:!0,color:t})},role:"img"},f=function(i){var n=i.data,u=i.id,c=void 0===u?v.id:u,f=i.value,h=void 0===f?v.value:f,p=i.valueFormat,m=i.radius,b=i.innerRadius,C=void 0===b?v.innerRadius:b,g=i.cornerRadius,R=void 0===g?v.cornerRadius:g,M=i.colors,L=void 0===M?v.colors:M,x=i.colorBy,y=void 0===x?v.colorBy:x,W=i.inheritColorFromParent,j=void 0===W?v.inheritColorFromParent:W,A=i.childColor,F=void 0===A?v.childColor:A,k=l.useTheme(),q=d.useOrdinalColorScale(L,y),w=d.useInheritedColor(F,k),I=r.usePropertyAccessor(c),P=r.usePropertyAccessor(h),S=r.useValueFormatter(p),O=e.useMemo((function(){var e,r=a(n),o=t.hierarchy(r).sum(P),i=t.partition().size([2*Math.PI,m*m])(o).descendants().slice(1),l=null!=(e=o.value)?e:0;return s(i,"depth").reduce((function(e,r){var o,i=I(r.data),n=r.value,t=100*n/l,a=r.ancestors().map((function(e){return I(e.data)})),s=C*m,d=1-C,u={startAngle:r.x0,endAngle:r.x1,innerRadius:s+Math.sqrt(r.y0)*d,outerRadius:s+Math.sqrt(r.y1)*d};r.parent&&(o=e.find((function(e){return e.id===I(r.parent.data)})));var c={id:i,path:a,value:n,percentage:t,formattedValue:p?S(n):t.toFixed(2)+"%",color:"",arc:u,data:r.data,depth:r.depth,height:r.height};return j&&o&&c.depth>1?c.color=w(o,c):c.color=q(c),[].concat(e,[c])}),[])}),[n,m,C,P,I,p,S,q,j,w]);return{arcGenerator:o.useArcGenerator({cornerRadius:R}),nodes:O}},h=function(r){var o=r.nodes,i=r.arcGenerator,n=r.centerX,t=r.centerY,a=r.radius;return e.useMemo((function(){return{nodes:o,arcGenerator:i,centerX:n,centerY:t,radius:a}}),[o,i,n,t,a])},p=function(r){var t=r.center,a=r.data,s=r.arcGenerator,l=r.borderWidth,d=r.borderColor,u=r.isInteractive,c=r.onClick,v=r.onMouseEnter,f=r.onMouseMove,h=r.onMouseLeave,p=r.tooltip,m=r.transitionMode,b=i.useTooltip(),C=b.showTooltipFromEvent,g=b.hideTooltip,R=e.useMemo((function(){if(u)return function(e,r){null==c||c(e,r)}}),[u,c]),M=e.useMemo((function(){if(u)return function(r,o){C(e.createElement(p,r),o),null==v||v(r,o)}}),[u,C,p,v]),L=e.useMemo((function(){if(u)return function(r,o){C(e.createElement(p,r),o),null==f||f(r,o)}}),[u,C,p,f]),x=e.useMemo((function(){if(u)return function(e,r){g(),null==h||h(e,r)}}),[u,g,h]);return n.jsx(o.ArcsLayer,{center:t,data:a,arcGenerator:s,borderWidth:l,borderColor:d,transitionMode:m,onClick:R,onMouseEnter:M,onMouseMove:L,onMouseLeave:x})},m=["isInteractive","animate","motionConfig","theme","renderWrapper"],b=function(i){var t=i.data,a=i.id,s=void 0===a?v.id:a,l=i.value,d=void 0===l?v.value:l,u=i.valueFormat,c=i.innerRadius,m=void 0===c?v.innerRadius:c,b=i.cornerRadius,C=void 0===b?v.cornerRadius:b,g=i.layers,R=void 0===g?v.layers:g,M=i.colors,L=void 0===M?v.colors:M,x=i.colorBy,y=void 0===x?v.colorBy:x,W=i.inheritColorFromParent,j=void 0===W?v.inheritColorFromParent:W,A=i.childColor,F=void 0===A?v.childColor:A,k=i.borderWidth,q=void 0===k?v.borderWidth:k,w=i.borderColor,I=void 0===w?v.borderColor:w,P=i.margin,S=i.width,O=i.height,G=i.enableArcLabels,B=void 0===G?v.enableArcLabels:G,E=i.arcLabel,T=void 0===E?v.arcLabel:E,z=i.arcLabelsRadiusOffset,H=void 0===z?v.arcLabelsRadiusOffset:z,X=i.arcLabelsSkipAngle,Y=void 0===X?v.arcLabelsSkipAngle:X,V=i.arcLabelsSkipRadius,D=void 0===V?v.arcLabelsSkipRadius:V,K=i.arcLabelsTextColor,J=void 0===K?v.arcLabelsTextColor:K,N=i.arcLabelsComponent,Q=i.defs,U=void 0===Q?v.defs:Q,Z=i.fill,$=void 0===Z?v.fill:Z,_=i.transitionMode,ee=void 0===_?v.transitionMode:_,re=i.isInteractive,oe=void 0===re?v.isInteractive:re,ie=i.onClick,ne=i.onMouseEnter,te=i.onMouseLeave,ae=i.onMouseMove,se=i.tooltip,le=void 0===se?v.tooltip:se,de=i.role,ue=void 0===de?v.role:de,ce=i.forwardedRef,ve=r.useDimensions(S,O,P),fe=ve.innerHeight,he=ve.innerWidth,pe=ve.margin,me=ve.outerHeight,be=ve.outerWidth,Ce=e.useMemo((function(){return{radius:Math.min(he,fe)/2,centerX:he/2,centerY:fe/2}}),[fe,he]),ge=Ce.centerX,Re=Ce.centerY,Me=Ce.radius,Le=f({data:t,id:s,value:d,valueFormat:u,radius:Me,innerRadius:m,cornerRadius:C,colors:L,colorBy:y,inheritColorFromParent:j,childColor:F}),xe=Le.arcGenerator,ye=Le.nodes,We=r.bindDefs(U,ye,$,{colorKey:"color",targetKey:"fill"}),je={arcs:null,arcLabels:null};R.includes("arcs")&&(je.arcs=n.jsx(p,{center:[ge,Re],data:ye,arcGenerator:xe,borderWidth:q,borderColor:I,transitionMode:ee,isInteractive:oe,tooltip:le,onClick:ie,onMouseEnter:ne,onMouseLeave:te,onMouseMove:ae},"arcs")),B&&R.includes("arcLabels")&&(je.arcLabels=n.jsx(o.ArcLabelsLayer,{center:[ge,Re],data:ye,label:T,radiusOffset:H,skipAngle:Y,skipRadius:D,textColor:J,transitionMode:ee,component:N},"arcLabels"));var Ae=h({nodes:ye,arcGenerator:xe,centerX:ge,centerY:Re,radius:Me});return n.jsx(r.SvgWrapper,{width:be,height:me,defs:We,margin:pe,role:ue,ref:ce,children:R.map((function(r,o){return void 0!==je[r]?je[r]:"function"==typeof r?n.jsx(e.Fragment,{children:e.createElement(r,Ae)},o):null}))})},C=e.forwardRef((function(e,o){var i=e.isInteractive,t=void 0===i?v.isInteractive:i,a=e.animate,s=void 0===a?v.animate:a,l=e.motionConfig,d=void 0===l?v.motionConfig:l,f=e.theme,h=e.renderWrapper,p=c(e,m);return n.jsx(r.Container,{isInteractive:t,animate:s,motionConfig:d,theme:f,renderWrapper:h,children:n.jsx(b,u({},p,{isInteractive:t,forwardedRef:o}))})})),g=["defaultWidth","defaultHeight","onResize","debounceResize"],R=e.forwardRef((function(e,o){var i=e.defaultWidth,t=e.defaultHeight,a=e.onResize,s=e.debounceResize,l=c(e,g);return n.jsx(r.ResponsiveWrapper,{defaultWidth:i,defaultHeight:t,onResize:a,debounceResize:s,children:function(e){var r=e.width,i=e.height;return n.jsx(C,u({},l,{width:r,height:i,ref:o}))}})}));exports.ResponsiveSunburst=R,exports.Sunburst=C,exports.defaultProps=v,exports.useSunburst=f,exports.useSunburstLayerContext=h;
//# sourceMappingURL=nivo-sunburst.cjs.js.map
